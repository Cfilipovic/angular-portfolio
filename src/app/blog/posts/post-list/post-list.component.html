<div class="container">
	<section>
		<mat-card class="mat-elevation-z8" *ngFor="let post of posts | async">
			<mat-card-content routerLink="{{post.id}}">
				<img src="{{post.image}}" alt="{{post.title}}">
				<h2>{{post.title}}</h2>
				<p><small>Posted by {{post.author}} &bull; on {{post.published.toDate() | date: 'fullDate'}}</small></p>
			</mat-card-content>
			<mat-card-actions align="end" *ngIf="auth.currentUserId === post.authorId">
				<button mat-icon-button (click)="delete(post.id)">
					<mat-icon>delete</mat-icon>
				</button>
			</mat-card-actions>
		</mat-card>
	</section>

	<div layout="row" layout-align="end center" class="postbutton" *ngIf="auth.afAuth.authState | async as user;">
		<span class="spacer"></span>
		<button mat-raised-button color="accent" routerLink="/blog/dashboard">Write a Post</button>
	</div>
</div>
<router-outlet></router-outlet>